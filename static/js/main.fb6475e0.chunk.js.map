{"version":3,"sources":["animations/components/VideoChatIllu.tsx","assets/teams.mp3","context/VideoContext.ts","components/options/Options.tsx","pages/index.tsx","animations/components/AppLoader.tsx","components/AppIconButton.tsx","icons/Video.tsx","icons/CallEnd.tsx","icons/Desktop.tsx","icons/Audio.tsx","icons/VideoOff.tsx","icons/AudioOff.tsx","utils/socketUtils.ts","context/VideoState.tsx","assets/msg_illu.svg","components/chat/Chat.tsx","components/video/Video.tsx","pages/meet.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/options/options.module.css"],"names":["defaultOptions","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","VideoChatIllustration","height","width","options","VideoContext","createContext","undefined","Options","history","useHistory","useState","idToCall","setIdToCall","isModalVisible","setIsModalVisible","Audio","useRef","vidState","useContext","useEffect","callAccepted","console","log","push","from","current","play","pause","call","isReceivingCall","setOtherUser","className","classes","style","marginBottom","size","placeholder","prefix","UserOutlined","maxLength","suffix","name","length","value","onChange","e","setName","target","text","me","type","icon","CopyOutlined","tabIndex","onClick","message","success","marginRight","title","InfoCircleOutlined","color","otherUserName","setOtherUserName","PhoneOutlined","isCamAllowed","isMicAllowed","callUser","error","src","Teams","ref","visible","onOk","onCancel","leaveCall1","window","location","reload","footer","display","justifyContent","answerCall","Index","VideoChatIllu","AppLoader","AppIconButton","backgroundColor","flexDirection","alignItems","marginLeft","padding","borderRadius","cursor","VideoIcon","props","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","x","y","rx","ry","CallEnd","fillRule","DesktopIcon","AudioIcon","VideoOffIcon","AudioOff","EVENTS","socket","io","VideoState","children","setCallAccepted","callEnded","setCallEnded","stream","setStream","otherUserStream","setOtherUserStream","chat","setChat","setCall","setMe","userName","setUserName","otherUser","myVdoStatus","setMyVdoStatus","userVdoStatus","setUserVdoStatus","myMicStatus","setMyMicStatus","userMicStatus","setUserMicStatus","msgRcv","setMsgRcv","screenShare","setScreenShare","setIsCamAllowed","setIsMicAllowed","connectionRef","screenTrackRef","callOnStart","navigator","mediaDevices","getUserMedia","video","audio","then","currentStream","on","socketId","replace","currentMediaStatus","callerName","signalData","userToCall","signal","sender","setTimeout","Provider","id","peer","Peer","initiator","trickle","data","emit","leaveCall","destroy","to","myMediaStatus","sendMsg","msg","timestamp","Date","now","updateVideo","currentStatus","getVideoTracks","enabled","updateMic","getAudioTracks","handleScreenSharing","onended","getDisplayMedia","screenTrack","getTracks","replaceTrack","streams","find","track","kind","catch","fullScreen","elem","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","Chat","setMessage","dummy","scrollIntoView","behavior","notification","open","description","MessageOutlined","position","marginTop","span","overflowY","overflowX","map","Msg_Illu","alt","bottom","margin","trim","SendOutlined","fontSize","Video","userV","myV","srcObject","Fragment","gutter","justify","borderColor","borderStyle","borderWidth","overflow","objectFit","opacity","autoPlay","muted","playsInline","right","top","transform","VideoOff","Desktop","Meet","useLocation","state","App","permissions","query","result","onchange","path","component","Home","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.fb6475e0.chunk.js","sourcesContent":["import React from 'react';\nimport Lottie, { Options } from 'react-lottie';\n\nimport animationData from '../data/videoChat.json';\n\nconst defaultOptions: Options = {\n\tloop: true,\n\tautoplay: true,\n\tanimationData: animationData,\n\trendererSettings:\n\t\t{\n\t\t\tpreserveAspectRatio: 'xMidYMid slice'\n\t\t}\n};\n\ninterface LoaderProps {\n\theight?: number;\n\twidth?: number;\n}\n\nconst VideoChatIllustration: React.FC<LoaderProps> = ({ height = 300, width = 300 }) => {\n\treturn <Lottie options={defaultOptions} height={height} width={width} />;\n};\n\nexport default VideoChatIllustration;\n","export default __webpack_public_path__ + \"static/media/teams.23d1d865.mp3\";","import React, { createContext } from 'react';\nimport { CallType, MessageRcvType } from './VideoState';\n\nexport interface VideoContextInterface {\n\tcall: CallType | undefined;\n\tcallAccepted: boolean;\n\tstream: MediaStream | undefined;\n\tname: string;\n\tsetName: React.Dispatch<React.SetStateAction<string>>;\n\tcallEnded: boolean;\n\tme: string;\n\tcallUser: any;\n\tleaveCall: any;\n\tanswerCall: any;\n\tsendMsg: any;\n\tmsgRcv: MessageRcvType | undefined;\n\tchat: MessageRcvType[];\n\tsetChat: React.Dispatch<React.SetStateAction<MessageRcvType[]>>;\n\tsetMsgRcv: React.Dispatch<React.SetStateAction<MessageRcvType | undefined>>;\n\tsetOtherUser: React.Dispatch<React.SetStateAction<string>>;\n\tleaveCall1: any;\n\tuserName: string;\n\tmyVdoStatus: boolean;\n\tsetMyVdoStatus: React.Dispatch<React.SetStateAction<boolean>>;\n\tuserVdoStatus: any;\n\tsetUserVdoStatus: React.Dispatch<React.SetStateAction<any>>;\n\tupdateVideo: any;\n\tmyMicStatus: boolean;\n\tuserMicStatus: any;\n\tupdateMic: any;\n\tscreenShare: boolean;\n\thandleScreenSharing: any;\n\tfullScreen: any;\n\totherUserStream: MediaStream | undefined;\n\totherUserName: string;\n\tsetOtherUserName: React.Dispatch<React.SetStateAction<string>>;\n\tisCamAllowed: boolean;\n\tsetIsCamAllowed: React.Dispatch<React.SetStateAction<boolean>>;\n\tisMicAllowed: boolean;\n\tsetIsMicAllowed: React.Dispatch<React.SetStateAction<boolean>>;\n\tcallOnStart: any;\n}\n\nconst VideoContext = createContext<VideoContextInterface | undefined>(undefined);\nexport default VideoContext;\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport { Input, Button, Tooltip, Modal, message } from \"antd\";\nimport Teams from \"../../assets/teams.mp3\";\nimport * as classes from \"./options.module.css\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport VideoContext from \"../../context/VideoContext\";\nimport {\n  UserOutlined,\n  CopyOutlined,\n  InfoCircleOutlined,\n  PhoneOutlined,\n} from \"@ant-design/icons\";\nimport { useHistory } from \"react-router\";\n\nconst Options = () => {\n  const history = useHistory();\n  const [idToCall, setIdToCall] = useState(\"\");\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const Audio:any = useRef();\n    const vidState = useContext(VideoContext)!;\n\n  const callHandler = () => {\n      \n    if (!vidState.isCamAllowed || !vidState.isMicAllowed) {\n      message.error(\"Please allow both camera and microphone permissions before procced to call !\")\n      return;\n    }\n    if (!vidState.name.length) {\n      message.error(\"Please enter your name to call!\");\n    } else if (!idToCall.length) {\n      message.error(\"Please enter id of the other user!\");\n    } else if (!vidState.otherUserName.length) {\n      message.error(\"Please enter name of the other user!\");\n    } else {\n       vidState.callUser(idToCall);\n    }\n  }\n  \n  useEffect(() => {\n    if (vidState.callAccepted) {\n      console.log(\"Here\");\n      history.push('/meet',{from:'home'});\n    }\n  },[vidState.callAccepted,history])\n\n  useEffect(() => {\n    if (isModalVisible) {\n      Audio?.current?.play();\n    } else Audio?.current?.pause();\n  }, [isModalVisible]);\n\n  const showModal = (showVal:boolean) => {\n    setIsModalVisible(showVal);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    vidState.leaveCall1();\n    window.location.reload();\n  };\n  useEffect(() => {\n    if (vidState.call) {\n      if (vidState.call?.isReceivingCall && !vidState.callAccepted) {\n      setIsModalVisible(true);\n      vidState.setOtherUser(vidState.call.from);\n    } else setIsModalVisible(false);\n    }\n  }, [vidState.call,vidState.callAccepted]);\n\n  return (\n    <div className={classes.options}>\n      <div style={{ marginBottom: \"0.5rem\" }}>\n        <h2>Account Info</h2>\n        <Input\n          size=\"large\"\n          placeholder=\"Your name\"\n          prefix={<UserOutlined />}\n          maxLength={15}\n          suffix={<small>{vidState.name.length}/15</small>}\n          value={vidState.name}\n          onChange={(e) => {\n            vidState.setName(e.target.value);\n          }}\n          className={classes.inputgroup}\n        />\n\n        <div className={classes.share_options}>\n          <CopyToClipboard text={vidState.me}>\n            <Button\n              type=\"primary\"\n              icon={<CopyOutlined />}\n              className={classes.btn}\n              tabIndex={0}\n              onClick={() => message.success(\"Code copied successfully!\")}\n            >\n              Copy code\n            </Button>\n          </CopyToClipboard>\n        </div>\n      </div>\n      <div style={{ marginBottom: \"0.5rem\" }}>\n        <h2>Make a call</h2>\n\n        <Input\n          placeholder=\"Enter code to call\"\n          size=\"large\"\n          className={classes.inputgroup}\n          value={idToCall}\n          onChange={(e) => setIdToCall(e.target.value)}\n          style={{ marginRight: \"0.5rem\", marginBottom: \"0.5rem\" }}\n          prefix={<UserOutlined className=\"site-form-item-icon\" />}\n          suffix={\n            <Tooltip title=\"Enter code of the other user\">\n              <InfoCircleOutlined style={{ color: \"rgba(0,0,0,.45)\" }} />\n            </Tooltip>\n          }\n        />\n         <Input\n          placeholder=\"Enter name to call\"\n          size=\"large\"\n          className={classes.inputgroup}\n          value={vidState.otherUserName}\n          onChange={(e) => vidState.setOtherUserName(e.target.value)}\n          style={{ marginRight: \"0.5rem\", marginBottom: \"0.5rem\" }}\n          prefix={<UserOutlined className=\"site-form-item-icon\" />}\n          suffix={\n            <Tooltip title=\"Enter name of the other user\">\n              <InfoCircleOutlined style={{ color: \"rgba(0,0,0,.45)\" }} />\n            </Tooltip>\n          }\n        />\n          <Button\n            type=\"primary\"\n            icon={<PhoneOutlined />}\n            onClick={callHandler}\n            className={classes.btn}\n            tabIndex={0}\n          >\n            Call\n          </Button>\n        \n      </div>\n\n      {vidState.call && vidState.call.isReceivingCall && !vidState.callAccepted && (\n        <>\n          <audio src={Teams} loop ref={Audio} />\n          <Modal\n            title=\"Incoming Call\"\n            visible={isModalVisible}\n            onOk={() => showModal(false)}\n            onCancel={handleCancel}\n            footer={null}\n          >\n            <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n              <h1>\n                {vidState.call.name} is calling you:{\" \"}\n              </h1>\n            </div>\n            <div className={classes.btnDiv}>\n              <Button\n                className={classes.answer}\n                color=\"#29bb89\"\n                icon={<PhoneOutlined />}\n                onClick={() => {\n                  if (!vidState.isCamAllowed || !vidState.isMicAllowed) {\n                    message.error(\"Please allow both camera and microphone permissions before procced to call !\")\n                    return;\n                  }\n                  vidState.answerCall();\n                  Audio.current.pause();\n                }}\n                tabIndex={0}\n              >\n                Answer\n              </Button>\n              <Button\n                className={classes.decline}\n                icon={<PhoneOutlined />}\n                onClick={() => {\n                  setIsModalVisible(false);\n                  Audio.current.pause();\n                }}\n                tabIndex={0}\n              >\n                Decline\n              </Button>\n            </div>\n          </Modal>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Options;","import React from 'react';\nimport VideoChatIllustration from '../animations/components/VideoChatIllu';\nimport Options from '../components/options/Options';\n\nconst Index = () => {\n\treturn (\n\t\t<div>\n\t\t\t<VideoChatIllustration />\n\t\t\t<Options />\n\t\t</div>\n\t);\n};\n\nexport default Index;\n","import React from 'react';\nimport Lottie, { Options } from 'react-lottie';\n\nimport animationData from '../data/loader.json';\n\nconst defaultOptions: Options = {\n\tloop: true,\n\tautoplay: true,\n\tanimationData: animationData,\n\trendererSettings:\n\t\t{\n\t\t\tpreserveAspectRatio: 'xMidYMid slice'\n\t\t}\n};\n\ninterface LoaderProps {\n\theight?: number;\n\twidth?: number;\n}\n\nconst AppLoader: React.FC<LoaderProps> = ({ height = 300, width = 300 }) => {\n\treturn <Lottie options={defaultOptions} height={height} width={width} />;\n};\n\nexport default AppLoader;\n","import React from 'react';\n\ninterface Props {\n\ticon: any;\n\ttitle: string;\n\tbackgroundColor?: string;\n\tonClick?: () => void;\n}\n\nconst AppIconButton: React.FC<Props> = ({ icon, backgroundColor, title, onClick }) => {\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflexDirection: 'column',\n\t\t\t\tjustifyContent: 'center',\n\t\t\t\talignItems: 'center',\n\t\t\t\tmarginRight: 10,\n\t\t\t\tmarginLeft: 10\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor:\n\n\t\t\t\t\t\t\tbackgroundColor ? backgroundColor :\n\t\t\t\t\t\t\t'white',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tpadding: 10,\n\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t}}\n\t\t\t\tonClick={onClick}\n\t\t\t>\n\t\t\t\t{icon}\n\t\t\t</div>\n\t\t\t<h4>{title}</h4>\n\t\t</div>\n\t);\n};\n\nexport default AppIconButton;\n","import * as React from 'react';\n\nfunction VideoIcon(props: React.SVGProps<SVGSVGElement>) {\n\treturn (\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tfill=\"none\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tstrokeWidth={2}\n\t\t\tstrokeLinecap=\"round\"\n\t\t\tstrokeLinejoin=\"round\"\n\t\t\tclassName=\"prefix__feather prefix__feather-video\"\n\t\t\twidth=\"1em\"\n\t\t\theight=\"1em\"\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d=\"M23 7l-7 5 7 5V7z\" />\n\t\t\t<rect x={1} y={5} width={15} height={14} rx={2} ry={2} />\n\t\t</svg>\n\t);\n}\n\nexport default VideoIcon;\n","import * as React from 'react';\n\nfunction CallEnd(props: React.SVGProps<SVGSVGElement>) {\n\treturn (\n\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 24 9\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n\t\t\t<g fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t<path d=\"M0-7h24v24H0z\" />\n\t\t\t\t<path\n\t\t\t\t\td=\"M4.51 8.48l2-1.59c.48-.38.76-.96.76-1.57v-2.6c3.02-.98 6.29-.99 9.32 0v2.61c0 .61.28 1.19.76 1.57l1.99 1.58c.8.63 1.94.57 2.66-.15l1.22-1.22c.8-.8.8-2.13-.05-2.88C16.76-1.43 7.1-1.43.69 4.23c-.85.75-.85 2.08-.05 2.88l1.22 1.22c.71.72 1.85.78 2.65.15z\"\n\t\t\t\t\tfill=\"#1D1D1D\"\n\t\t\t\t/>\n\t\t\t</g>\n\t\t</svg>\n\t);\n}\n\nexport default CallEnd;\n","import * as React from 'react';\n\nfunction DesktopIcon(props: React.SVGProps<SVGSVGElement>) {\n\treturn (\n\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 22 20\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n\t\t\t<g fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t<path d=\"M-1-2h24v24H-1z\" />\n\t\t\t\t<path\n\t\t\t\t\td=\"M20 0H2C.9 0 0 .9 0 2v12c0 1.1.9 2 2 2h7v2H8c-.55 0-1 .45-1 1s.45 1 1 1h6c.55 0 1-.45 1-1s-.45-1-1-1h-1v-2h7c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm-1 14H3c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h16c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1z\"\n\t\t\t\t\tfill=\"#1D1D1D\"\n\t\t\t\t/>\n\t\t\t</g>\n\t\t</svg>\n\t);\n}\n\nexport default DesktopIcon;\n","import * as React from 'react';\n\nfunction AudioIcon(props: React.SVGProps<SVGSVGElement>) {\n\treturn (\n\t\t<svg\n\t\t\tdata-name=\"Layer 1\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\twidth=\"1em\"\n\t\t\theight=\"1em\"\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d=\"M16.5 8v4a4.27 4.27 0 01-4.5 4 4.27 4.27 0 01-4.5-4V8h-2v4a6.17 6.17 0 005.5 5.92V21H9v2h6v-2h-2v-3.08A6.17 6.17 0 0018.5 12V8z\" />\n\t\t\t<path d=\"M12 15a3.5 3.5 0 003.5-3.5v-7a3.5 3.5 0 00-7 0v7A3.5 3.5 0 0012 15zM10.5 4.5a1.5 1.5 0 013 0v7a1.5 1.5 0 01-3 0z\" />\n\t\t</svg>\n\t);\n}\n\nexport default AudioIcon;\n","import * as React from 'react';\n\nfunction VideoOffIcon(props: React.SVGProps<SVGSVGElement>) {\n\treturn (\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tfill=\"none\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tstrokeWidth={2}\n\t\t\tstrokeLinecap=\"round\"\n\t\t\tstrokeLinejoin=\"round\"\n\t\t\tclassName=\"prefix__feather prefix__feather-video-off\"\n\t\t\twidth=\"1em\"\n\t\t\theight=\"1em\"\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d=\"M16 16v1a2 2 0 01-2 2H3a2 2 0 01-2-2V7a2 2 0 012-2h2m5.66 0H14a2 2 0 012 2v3.34l1 1L23 7v10M1 1l22 22\" />\n\t\t</svg>\n\t);\n}\n\nexport default VideoOffIcon;\n","import * as React from 'react';\n\nfunction AudioOff(props: React.SVGProps<SVGSVGElement>) {\n\treturn (\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tfill=\"none\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tstrokeWidth={2}\n\t\t\tstrokeLinecap=\"round\"\n\t\t\tstrokeLinejoin=\"round\"\n\t\t\tclassName=\"prefix__feather prefix__feather-mic-off\"\n\t\t\twidth=\"1em\"\n\t\t\theight=\"1em\"\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d=\"M1 1l22 22M9 9v3a3 3 0 005.12 2.12M15 9.34V4a3 3 0 00-5.94-.6\" />\n\t\t\t<path d=\"M17 16.95A7 7 0 015 12v-2m14 0v2a7 7 0 01-.11 1.23M12 19v4M8 23h8\" />\n\t\t</svg>\n\t);\n}\n\nexport default AudioOff;\n","export const EVENTS = {\n\tme: 'me',\n\tcallUser: 'callEnded',\n\tupdateMyMedia: 'updateMyMedia',\n\tupdateUserMedia: 'updateUserMedia',\n\tmessageUser: 'messageUser',\n\tmessageReceived: 'messageReceived',\n\tanswerCall: 'answerCall',\n\tcallAccepted: 'callAccepted',\n\tendCall: 'endCall'\n};\n\nexport interface MeData {\n\tsocketId: string;\n}\n\nexport interface CallUserData {\n\tuserToCall: string;\n\tsignalData: any;\n\tfrom: string;\n\tname: string;\n}\n\nexport interface UpdateMyMediaData {\n\ttype: string;\n\tcurrentMediaStatus: any;\n}\n\nexport interface UpdateUserMediaData {\n\ttype: string;\n\tcurrentMediaStatus: any;\n}\nexport interface MessageUserData {\n\tname: string;\n\tto: string;\n\tmessage: string;\n\tsender: string;\n}\n\nexport interface MessageReceivedData {\n\tname: string;\n\tmessage: string;\n\tsender: string;\n}\n\nexport interface AnswerCallData {\n\tsignal: any;\n\tto: string;\n\tuserName: string;\n\ttype: string;\n\tmyMediaStatus: any;\n}\n\nexport interface CallAcceptedData {\n\tsignal: any;\n\tto: string;\n\tuserName: string;\n\ttype: string;\n\tmyMediaStatus: any;\n}\n\nexport interface EndCallData {\n\tid: string;\n}\n","import { CallAcceptedData } from '../utils/socketUtils';\nimport { CallUserData } from '../../../server/dist/chat/types';\nimport { UpdateUserMediaData, MessageReceivedData } from '../../../server/src/chat/types';\nimport React, { useState, useEffect, useRef } from 'react';\nimport VideoContext from './VideoContext';\nimport { io } from 'socket.io-client';\nimport Peer from 'simple-peer';\nimport { message } from 'antd';\nimport { EVENTS, MeData } from '../utils/socketUtils';\n\nconst SERVER_URL = 'http://localhost:5000/';\n\nexport interface MessageRcvType {\n\tvalue: string;\n\tsender: string;\n}\n\nexport interface CallType {\n\tisReceivingCall: true;\n\tfrom: string;\n\tname: string;\n\tsignal: any;\n}\n\nexport const socket = io(SERVER_URL);\n\nconst VideoState = ({ children }: any) => {\n\tconst [\n\t\tcallAccepted,\n\t\tsetCallAccepted\n\t] = useState(false);\n\tconst [\n\t\tcallEnded,\n\t\tsetCallEnded\n\t] = useState(false);\n\tconst [\n\t\tstream,\n\t\tsetStream\n\t] = useState<MediaStream | undefined>();\n\tconst [\n\t\totherUserStream,\n\t\tsetOtherUserStream\n\t] = useState<MediaStream | undefined>();\n\tconst [\n\t\tchat,\n\t\tsetChat\n\t] = useState<MessageRcvType[]>([]);\n\tconst [\n\t\tname,\n\t\tsetName\n\t] = useState('');\n\tconst [\n\t\tcall,\n\t\tsetCall\n\t] = useState<CallType | undefined>();\n\tconst [\n\t\tme,\n\t\tsetMe\n\t] = useState('');\n\tconst [\n\t\tuserName,\n\t\tsetUserName\n\t] = useState('');\n\tconst [\n\t\totherUser,\n\t\tsetOtherUser\n\t] = useState('');\n\tconst [\n\t\tmyVdoStatus,\n\t\tsetMyVdoStatus\n\t] = useState(true);\n\tconst [\n\t\tuserVdoStatus,\n\t\tsetUserVdoStatus\n\t] = useState();\n\tconst [\n\t\tmyMicStatus,\n\t\tsetMyMicStatus\n\t] = useState(true);\n\tconst [\n\t\tuserMicStatus,\n\t\tsetUserMicStatus\n\t] = useState();\n\tconst [\n\t\tmsgRcv,\n\t\tsetMsgRcv\n\t] = useState<MessageRcvType | undefined>();\n\tconst [\n\t\tscreenShare,\n\t\tsetScreenShare\n\t] = useState(false);\n\tconst [\n\t\totherUserName,\n\t\tsetOtherUserName\n\t] = useState('');\n\tconst [\n\t\tisCamAllowed,\n\t\tsetIsCamAllowed\n\t] = useState(false);\n\tconst [\n\t\tisMicAllowed,\n\t\tsetIsMicAllowed\n\t] = useState(false);\n\n\tconst connectionRef: any = useRef();\n\tconst screenTrackRef: any = useRef();\n\n\tconst callOnStart = () => {\n\t\tnavigator.mediaDevices.getUserMedia({ video: true, audio: true }).then((currentStream) => {\n\t\t\tsetStream(currentStream);\n\t\t});\n\t\t// if (localStorage.getItem(\"name\")) {\n\t\t//   setName(localStorage.getItem(\"name\"));\n\t\t// }\n\t\tsocket.on(EVENTS.me, ({ socketId }: MeData) => setMe(socketId));\n\t\tsocket.on(EVENTS.endCall, () => {\n\t\t\tmessage.error('Call Ended !!!', 2000);\n\t\t\twindow.location.reload();\n\t\t\twindow.location.replace('http://localhost:3000/');\n\t\t});\n\n\t\tsocket.on(EVENTS.updateUserMedia, ({ type, currentMediaStatus }: UpdateUserMediaData) => {\n\t\t\tif (currentMediaStatus !== null || currentMediaStatus !== []) {\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'video':\n\t\t\t\t\t\tsetUserVdoStatus(currentMediaStatus);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mic':\n\t\t\t\t\t\tsetUserMicStatus(currentMediaStatus);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsetUserMicStatus(currentMediaStatus[0]);\n\t\t\t\t\t\tsetUserVdoStatus(currentMediaStatus[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(EVENTS.callUser, ({ from, name: callerName, signalData, userToCall }: CallUserData) => {\n\t\t\tsetCall({ isReceivingCall: true, from, name: callerName, signal: signalData });\n\t\t});\n\n\t\tsocket.on(EVENTS.messageReceived, ({ name, message: value, sender }: MessageReceivedData) => {\n\t\t\tsetMsgRcv({ value, sender });\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetMsgRcv(undefined);\n\t\t\t}, 2000);\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tcallOnStart();\n\t}, []);\n\n\tconst answerCall = () => {\n\t\tsetCallAccepted(true);\n\t\tsetOtherUser(call!.from);\n\t\tsetOtherUserName(call!.name);\n\t\tconst peer = new Peer({ initiator: false, trickle: false, stream });\n\t\tpeer.on('signal', (data) => {\n\t\t\tsocket.emit(EVENTS.answerCall, {\n\t\t\t\tsignal: data,\n\t\t\t\tto: call!.from,\n\t\t\t\tuserName: name,\n\t\t\t\ttype: 'both',\n\t\t\t\tmyMediaStatus:\n\t\t\t\t\t[\n\t\t\t\t\t\tmyMicStatus,\n\t\t\t\t\t\tmyVdoStatus\n\t\t\t\t\t]\n\t\t\t});\n\t\t});\n\n\t\tpeer.on('stream', (currentStream) => {\n\t\t\tsetOtherUserStream(currentStream);\n\t\t});\n\t\tpeer.signal(call!.signal);\n\t\tconnectionRef.current = peer;\n\t};\n\n\tconst callUser = (id: string) => {\n\t\tconst peer = new Peer({ initiator: true, trickle: false, stream });\n\t\tsetOtherUser(id);\n\t\tpeer.on('signal', (data) => {\n\t\t\tsocket.emit(EVENTS.callUser, {\n\t\t\t\tuserToCall: id,\n\t\t\t\tsignalData: data,\n\t\t\t\tfrom: me,\n\t\t\t\tname\n\t\t\t});\n\t\t});\n\t\tpeer.on('stream', (currentStream) => {\n\t\t\tsetOtherUserStream(currentStream);\n\t\t});\n\t\tsocket.on(EVENTS.callAccepted, ({ signal, userName }: CallAcceptedData) => {\n\t\t\tsetCallAccepted(true);\n\t\t\tsetUserName(userName);\n\t\t\tpeer.signal(signal);\n\t\t\tsocket.emit(EVENTS.updateMyMedia, {\n\t\t\t\ttype: 'both',\n\t\t\t\tcurrentMediaStatus:\n\t\t\t\t\t[\n\t\t\t\t\t\tmyMicStatus,\n\t\t\t\t\t\tmyVdoStatus\n\t\t\t\t\t]\n\t\t\t});\n\t\t});\n\n\t\tconnectionRef.current = peer;\n\t};\n\n\tconst updateVideo = () => {\n\t\tsetMyVdoStatus((currentStatus) => {\n\t\t\tsocket.emit(EVENTS.updateMyMedia, {\n\t\t\t\ttype: 'video',\n\t\t\t\tcurrentMediaStatus: !currentStatus\n\t\t\t});\n\t\t\tstream!.getVideoTracks()[0].enabled = !currentStatus;\n\t\t\tsetStream(stream);\n\t\t\treturn !currentStatus;\n\t\t});\n\t};\n\n\tconst updateMic = () => {\n\t\tsetMyMicStatus((currentStatus) => {\n\t\t\tsocket.emit(EVENTS.updateMyMedia, {\n\t\t\t\ttype: 'mic',\n\t\t\t\tcurrentMediaStatus: !currentStatus\n\t\t\t});\n\t\t\tstream!.getAudioTracks()[0].enabled = !currentStatus;\n\t\t\treturn !currentStatus;\n\t\t});\n\t};\n\n\t//SCREEN SHARING\n\tconst handleScreenSharing = () => {\n\t\tif (!myVdoStatus) {\n\t\t\tmessage.error('Turn on your video to share the content', 2);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!screenShare) {\n\t\t\tnavigator.mediaDevices\n\t\t\t\t.getDisplayMedia({})\n\t\t\t\t.then((currentStream) => {\n\t\t\t\t\tconst screenTrack = currentStream.getTracks()[0];\n\n\t\t\t\t\t// replaceTrack (oldTrack, newTrack, oldStream);\n\t\t\t\t\tconnectionRef.current.replaceTrack(\n\t\t\t\t\t\tconnectionRef.current.streams[0].getTracks().find((track: any) => track.kind === 'video'),\n\t\t\t\t\t\tscreenTrack,\n\t\t\t\t\t\tstream\n\t\t\t\t\t);\n\n\t\t\t\t\t// Listen click end\n\t\t\t\t\tscreenTrack.onended = () => {\n\t\t\t\t\t\tconnectionRef.current.replaceTrack(\n\t\t\t\t\t\t\tscreenTrack,\n\t\t\t\t\t\t\tconnectionRef.current.streams[0].getTracks().find((track: any) => track.kind === 'video'),\n\t\t\t\t\t\t\tstream\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// myVideo.current.srcObject = stream;\n\t\t\t\t\t\tsetStream(stream);\n\t\t\t\t\t\tsetScreenShare(false);\n\t\t\t\t\t};\n\t\t\t\t\t// myVideo.current.srcObject = currentStream;\n\t\t\t\t\tsetStream(currentStream);\n\t\t\t\t\tscreenTrackRef.current = screenTrack;\n\t\t\t\t\tsetScreenShare(true);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log('No stream for sharing');\n\t\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tscreenTrackRef.current.onended();\n\t\t}\n\t};\n\n\t//full screen\n\tconst fullScreen = (e: any) => {\n\t\tconst elem = e.target;\n\n\t\tif (elem.requestFullscreen) {\n\t\t\telem.requestFullscreen();\n\t\t}\n\t\telse if (elem.mozRequestFullScreen) {\n\t\t\t/* Firefox */\n\t\t\telem.mozRequestFullScreen();\n\t\t}\n\t\telse if (elem.webkitRequestFullscreen) {\n\t\t\t/* Chrome, Safari & Opera */\n\t\t\telem.webkitRequestFullscreen();\n\t\t}\n\t\telse if (elem.msRequestFullscreen) {\n\t\t\t/* IE/Edge */\n\t\t\telem.msRequestFullscreen();\n\t\t}\n\t};\n\n\tconst leaveCall = () => {\n\t\tsetCallEnded(true);\n\t\tif (connectionRef && connectionRef.current) {\n\t\t\tconnectionRef.current.destroy();\n\t\t}\n\t\tsocket.emit(EVENTS.endCall, { id: otherUser });\n\t\twindow.location.reload();\n\t\twindow.location.replace('http://localhost:3000/');\n\t};\n\n\tconst leaveCall1 = () => {\n\t\tsocket.emit(EVENTS.endCall, { id: otherUser });\n\t};\n\tconst sendMsg = (value: any) => {\n\t\tsocket.emit(EVENTS.messageUser, { name, to: otherUser, message: value, sender: name });\n\t\tlet msg: any = {};\n\t\tmsg.message = value;\n\t\tmsg.type = 'sent';\n\t\tmsg.timestamp = Date.now();\n\t\tmsg.sender = name;\n\t\tsetChat([\n\t\t\t...chat,\n\t\t\tmsg\n\t\t]);\n\t};\n\n\treturn (\n\t\t<VideoContext.Provider\n\t\t\tvalue={{\n\t\t\t\tcall,\n\t\t\t\tcallAccepted,\n\t\t\t\tstream,\n\t\t\t\tname,\n\t\t\t\tsetName,\n\t\t\t\tcallEnded,\n\t\t\t\tme,\n\t\t\t\tcallUser,\n\t\t\t\tleaveCall,\n\t\t\t\tanswerCall,\n\t\t\t\tsendMsg,\n\t\t\t\tmsgRcv,\n\t\t\t\tchat,\n\t\t\t\tsetChat,\n\t\t\t\tsetMsgRcv,\n\t\t\t\tsetOtherUser,\n\t\t\t\tleaveCall1,\n\t\t\t\tuserName,\n\t\t\t\tmyVdoStatus,\n\t\t\t\tsetMyVdoStatus,\n\t\t\t\tuserVdoStatus,\n\t\t\t\tsetUserVdoStatus,\n\t\t\t\tupdateVideo,\n\t\t\t\tmyMicStatus,\n\t\t\t\tuserMicStatus,\n\t\t\t\tupdateMic,\n\t\t\t\tscreenShare,\n\t\t\t\thandleScreenSharing,\n\t\t\t\tfullScreen,\n\t\t\t\totherUserStream,\n\t\t\t\totherUserName,\n\t\t\t\tsetOtherUserName,\n\t\t\t\tisMicAllowed,\n\t\t\t\tsetIsMicAllowed,\n\t\t\t\tisCamAllowed,\n\t\t\t\tsetIsCamAllowed,\n\t\t\t\tcallOnStart\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</VideoContext.Provider>\n\t);\n};\n\nexport default VideoState;\n","export default __webpack_public_path__ + \"static/media/msg_illu.752a815b.svg\";","import { MessageOutlined, SendOutlined } from '@ant-design/icons';\nimport { Col, Input, notification } from 'antd';\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport { MessageReceivedData } from '../../../../server/dist/chat/types';\nimport VideoContext from '../../context/VideoContext';\nimport { socket } from '../../context/VideoState';\nimport { EVENTS } from '../../utils/socketUtils';\nimport Msg_Illu from '../../assets/msg_illu.svg';\nimport './chat.css';\n\nconst Chat = () => {\n\tconst [\n\t\tmessage,\n\t\tsetMessage\n\t] = useState<string>('');\n\n\tconst vidState = useContext(VideoContext)!;\n\n\tconst sendMessage = () => {\n\t\tif (message === '' || message.trim() === '') return;\n\n\t\tvidState.sendMsg(message);\n\n\t\tsetMessage('');\n\t};\n\n\tsocket.on(EVENTS.messageReceived, ({ name, message: value, sender }: MessageReceivedData) => {\n\t\tlet msg: any = {};\n\t\tmsg.message = value;\n\t\tmsg.type = 'rcv';\n\t\tmsg.sender = sender;\n\t\tmsg.timestamp = Date.now();\n\t\tvidState.setChat([\n\t\t\t...vidState.chat,\n\t\t\tmsg\n\t\t]);\n\t});\n\n\tconst dummy = useRef<any>();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (dummy && dummy.current) dummy.current.scrollIntoView({ behavior: 'smooth' });\n\t\t},\n\t\t[\n\t\t\tvidState.chat\n\t\t]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (vidState.msgRcv && vidState.msgRcv.value) {\n\t\t\t\tnotification.open({\n\t\t\t\t\tmessage: '',\n\t\t\t\t\tdescription: `${vidState.msgRcv.sender}: ${vidState.msgRcv.value}`,\n\t\t\t\t\ticon: <MessageOutlined style={{ color: '#108ee9' }} />\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tvidState.msgRcv\n\t\t]\n\t);\n\n\treturn (\n\t\t<Col\n\t\t\tstyle={{\n\t\t\t\tbackgroundColor: '#d9d9d9',\n\t\t\t\tborderRadius: 15,\n\t\t\t\theight: '95%',\n\t\t\t\tposition: 'relative',\n\t\t\t\tpadding: 0,\n\t\t\t\tmarginTop:\n\n\t\t\t\t\t\tvidState.chat.length ? 25 :\n\t\t\t\t\t\t0\n\t\t\t}}\n\t\t\tspan={6}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\theight: 'calc(100% - 90px)',\n\t\t\t\t\t// backgroundColor: 'red',\n\t\t\t\t\toverflowY: 'scroll',\n\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\tpadding: 10\n\t\t\t\t}}\n\t\t\t\tclassName=\"chat_container\"\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\tvidState.chat.length ? <div className=\"msg_flex\">\n\t\t\t\t\t\t{vidState.chat.map((msg: any) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={msg.timestamp}\n\t\t\t\t\t\t\t\tclassName={\n\n\t\t\t\t\t\t\t\t\t\tmsg.type === 'sent' ? 'msg_sent' :\n\t\t\t\t\t\t\t\t\t\t'msg_rcv'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{msg.message}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<div ref={dummy} id=\"no_border\" />\n\t\t\t\t\t</div> :\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\theight: '100%'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src={Msg_Illu} alt=\"msg_illus\" style={{ width: '80%' }} />\n\t\t\t\t\t</div>}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\theight: 60,\n\t\t\t\t\twidth: '90%',\n\t\t\t\t\tborderRadius: 5,\n\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmargin: 10,\n\t\t\t\t\tmarginBottom: 15,\n\t\t\t\t\tmarginTop: 15,\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\talignItems: 'center'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Input\n\t\t\t\t\tvalue={message}\n\t\t\t\t\tplaceholder=\"Write your message\"\n\t\t\t\t\tonChange={(e) => setMessage(e.target.value)}\n\t\t\t\t\tstyle={{ width: '70%', height: 35, marginRight: 12, borderRadius: 10 }}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: 'blue',\n\t\t\t\t\t\twidth: 35,\n\t\t\t\t\t\theight: 35,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tborderRadius: 10,\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={sendMessage}\n\t\t\t\t>\n\t\t\t\t\t<SendOutlined style={{ fontSize: 15, color: 'white' }} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Col>\n\t);\n};\n\nexport default Chat;\n","import { Avatar, Col, Row } from 'antd';\nimport React, { useContext, useEffect, useRef } from 'react';\nimport AppIconButton from '../AppIconButton';\nimport VideoIcon from '../../icons/Video';\nimport CallEnd from '../../icons/CallEnd';\nimport DesktopIcon from '../../icons/Desktop';\nimport AudioIcon from '../../icons/Audio';\nimport VideoContext from '../../context/VideoContext';\nimport VideoOffIcon from '../../icons/VideoOff';\nimport AudioOff from '../../icons/AudioOff';\n\nimport { UserOutlined } from '@ant-design/icons';\nimport Chat from '../chat/Chat';\nimport { useHistory } from 'react-router';\n\nconst Video = () => {\n\tconst history = useHistory();\n\tconst vidState = useContext(VideoContext)!;\n\tconst userV = useRef<HTMLVideoElement>(null);\n\tconst myV = useRef<HTMLVideoElement>(null);\n\tuseEffect(\n\t\t() => {\n\t\t\tif (vidState.stream && myV.current) {\n\t\t\t\tmyV.current.srcObject = vidState.stream;\n\t\t\t}\n\n\t\t\tif (vidState.otherUserStream && userV.current) {\n\t\t\t\tuserV.current.srcObject = vidState.otherUserStream;\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tvidState.stream,\n\t\t\tvidState.otherUserStream\n\t\t]\n\t);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Row\n\t\t\t\tgutter={16}\n\t\t\t\tjustify=\"space-around\"\n\t\t\t\tstyle={{\n\t\t\t\t\theight: '100%',\n\t\t\t\t\tmargin: '1rem',\n\t\t\t\t\toverflowX: 'hidden'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{vidState.stream && (\n\t\t\t\t\t<Col\n\t\t\t\t\t\tspan={16}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop:\n\n\t\t\t\t\t\t\t\t\tvidState.chat.length ? 25 :\n\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Row\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborderRadius: 25,\n\t\t\t\t\t\t\t\theight: '72vh',\n\t\t\t\t\t\t\t\tmargin: 10,\n\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\tborderColor: 'black',\n\t\t\t\t\t\t\t\tborderStyle: 'solid',\n\t\t\t\t\t\t\t\tborderWidth: 5,\n\t\t\t\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tborderRadius: 25,\n\t\t\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\t\t\topacity:\n\n\t\t\t\t\t\t\t\t\t\t\tvidState.userVdoStatus ? 1 :\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\t\tplaysInline\n\t\t\t\t\t\t\t\tref={userV}\n\t\t\t\t\t\t\t/>{' '}\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#116',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\topacity:\n\t\t\t\t\t\t\t\t\t\t`${\n\t\t\t\t\t\t\t\t\t\t\tvidState.userVdoStatus ? '0' :\n\t\t\t\t\t\t\t\t\t\t\t'1'}`\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsize={98}\n\t\t\t\t\t\t\t\ticon={!vidState.otherUserName && <UserOutlined />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{vidState.otherUserName}\n\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t\t\t\twidth: 125,\n\t\t\t\t\t\t\t\t\theight: 125,\n\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\tmargin: 10,\n\t\t\t\t\t\t\t\t\tborderRadius: 25,\n\t\t\t\t\t\t\t\t\tborderColor:\n\n\t\t\t\t\t\t\t\t\t\t\tvidState.myVdoStatus ? 'white' :\n\t\t\t\t\t\t\t\t\t\t\t'black',\n\t\t\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\t\t\tborderStyle: 'solid'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tborderRadius: 25,\n\t\t\t\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\t\t\t\tborderColor: 'white',\n\t\t\t\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\t\t\t\tborderStyle: 'solid',\n\t\t\t\t\t\t\t\t\t\topacity:\n\t\t\t\t\t\t\t\t\t\t\t`${\n\t\t\t\t\t\t\t\t\t\t\t\tvidState.myVdoStatus ? 1 :\n\t\t\t\t\t\t\t\t\t\t\t\t0}`\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\t\t\tplaysInline\n\t\t\t\t\t\t\t\t\tref={myV}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#116',\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\tright: '50%',\n\t\t\t\t\t\t\t\t\t\ttop: '50%',\n\t\t\t\t\t\t\t\t\t\ttransform: 'translate(50%,-50%)',\n\t\t\t\t\t\t\t\t\t\topacity:\n\t\t\t\t\t\t\t\t\t\t\t`${\n\t\t\t\t\t\t\t\t\t\t\t\tvidState.myVdoStatus ? 0 :\n\t\t\t\t\t\t\t\t\t\t\t\t1}`\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize={50}\n\t\t\t\t\t\t\t\t\ticon={!vidState.name && <UserOutlined />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{vidState.name}\n\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row style={{ backgroundColor: '#d9d9d9', borderRadius: 25, height: '20%' }} justify=\"center\">\n\t\t\t\t\t\t\t<AppIconButton\n\t\t\t\t\t\t\t\ttitle=\"Cam\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tvidState.updateVideo();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ticon={\n\n\t\t\t\t\t\t\t\t\t\tvidState.myVdoStatus ? <VideoIcon height={30} width={30} /> :\n\t\t\t\t\t\t\t\t\t\t<VideoOffIcon height={30} width={30} />\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<AppIconButton\n\t\t\t\t\t\t\t\ttitle=\"Mic\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tvidState.updateMic();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ticon={\n\n\t\t\t\t\t\t\t\t\t\tvidState.myMicStatus ? <AudioIcon height={30} width={30} /> :\n\t\t\t\t\t\t\t\t\t\t<AudioOff height={30} width={30} />\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<AppIconButton\n\t\t\t\t\t\t\t\ttitle=\"Share\"\n\t\t\t\t\t\t\t\tonClick={() => vidState.handleScreenSharing()}\n\t\t\t\t\t\t\t\ticon={<DesktopIcon height={30} width={30} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<AppIconButton\n\t\t\t\t\t\t\t\ttitle=\"Leave\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tvidState.leaveCall();\n\t\t\t\t\t\t\t\t\thistory.push('/', { from: 'endCall' });\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tbackgroundColor=\"red\"\n\t\t\t\t\t\t\t\ticon={<CallEnd height={30} width={30} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Col>\n\t\t\t\t)}\n\t\t\t\t{vidState.stream && <Chat />}\n\t\t\t</Row>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Video;\n","import { Button } from 'antd';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport AppLoader from '../animations/components/AppLoader';\nimport Video from '../components/video/Video';\nimport VideoContext from '../context/VideoContext';\n\nconst Meet = () => {\n\tconst vidState = useContext(VideoContext)!;\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (!vidState.name && !vidState.otherUserName) {\n\t\t\t\tvidState.leaveCall();\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tvidState.name,\n\t\t\tvidState.otherUserName\n\t\t]\n\t);\n\n\tconst location: any = useLocation();\n\tif (!location.state || location.state.from !== 'home') {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\theight: '100vh',\n\t\t\t\t\twidth: '100vw',\n\t\t\t\t\tflexDirection: 'column'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Button type=\"primary\" onClick={() => window.location.replace('http://localhost:3000/')}>\n\t\t\t\t\tGo Back\n\t\t\t\t</Button>\n\t\t\t\t<AppLoader />;\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\theight: '100vh',\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Video />\n\t\t\t</div>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Meet;\n","import React, { useContext, useEffect } from 'react';\nimport './App.css';\nimport Home from './pages';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Meet from './pages/meet';\nimport VideoContext from './context/VideoContext';\n\nfunction App() {\n\tconst vidState = useContext(VideoContext)!;\n\tuseEffect(() => {\n\t\tnavigator.permissions.query({ name: 'camera' as any }).then((result) => {\n\t\t\tvidState.setIsMicAllowed(result.state === 'granted');\n\t\t\tresult.onchange = () => vidState.setIsMicAllowed(result.state === 'granted');\n\t\t});\n\t\tnavigator.permissions.query({ name: 'microphone' as any }).then((result) => {\n\t\t\tvidState.setIsCamAllowed(result.state === 'granted');\n\t\t\tresult.onchange = () => vidState.setIsCamAllowed(result.state === 'granted');\n\t\t});\n\t\treturn () => {};\n\t}, []);\n\tuseEffect(\n\t\t() => {\n\t\t\tvidState.callOnStart();\n\t\t\tconsole.log('Works');\n\t\t},\n\t\t[\n\t\t\tvidState.isCamAllowed,\n\t\t\tvidState.isMicAllowed\n\t\t]\n\t);\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Router>\n\t\t\t\t{/* <VideoState> */}\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/\" component={Home} exact />\n\t\t\t\t\t<Route path=\"/meet\" component={Meet} exact />\n\t\t\t\t</Switch>\n\t\t\t\t{/* </VideoState> */}\n\t\t\t</Router>\n\t\t</React.Fragment>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport VideoState from './context/VideoState';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<VideoState>\n\t\t\t<App />\n\t\t</VideoState>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"options\":\"options_options__1liJ0\",\"btn\":\"options_btn__1oxjk\",\"inputgroup\":\"options_inputgroup__3e131\",\"btnDiv\":\"options_btnDiv__n0zq-\",\"phone\":\"options_phone__EYFN9\",\"answer\":\"options_answer__2W8d2\",\"decline\":\"options_decline__2_8B4\",\"hang\":\"options_hang___nNNb\",\"share_options\":\"options_share_options__3Fbdf\",\"share_social\":\"options_share_social__1hTEw\",\"share_icon\":\"options_share_icon__2OEm9\"};"],"sourceRoot":""}